(this.webpackJsonpscythecounter=this.webpackJsonpscythecounter||[]).push([[0],{109:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var n=a(1),r=(a(51),a(52),a(0)),o=a.n(r),c=a(22),i=a.n(c),s=a(4),l=a(15),u=a(6),b=a(8),j=a(10),h=a(9),d=a(46),p=a(21),m=a(5),O=(a(66),a(14)),g=a(17),x=a(29),y=Object(x.b)({name:"players",initialState:{players:[]},reducers:{addPlayer:function(e,t){e.players.push(t.payload)},updatePlayer:function(e,t){e.players[e.players.indexOf(t.payload)]=t.payload},reset:function(e){e.players=[]}}}),f=y.actions,v=(f.addPlayer,f.updatePlayer,f.reset,y.reducer),w=function(){function e(){Object(u.a)(this,e),this.name="",this.color="",this.emblemUrl="",this.shortName=""}return Object(b.a)(e,null,[{key:"getByName",value:function(t){switch(null===t||void 0===t?void 0:t.toLowerCase()){case"polania":return e.Polania;case"saxony":return e.Saxony;case"crimea":return e.Crimea;case"nord":return e.Nord;case"rusvet":return e.Rusvet;case"albion":return e.Albion;case"togawa":return e.Togawa;default:return e.Polania}}}]),e}();w.Polania={name:"Republic of Polania",color:"white",emblemUrl:"/icons/factions/polania.png",shortName:"polania"},w.Saxony={name:"Saxony Empire",color:"black",emblemUrl:"/icons/factions/saxony.png",shortName:"saxony"},w.Crimea={name:"Crimean Khanate",color:"yellow",emblemUrl:"/icons/factions/crimea.png",shortName:"crimea"},w.Nord={name:"Nordic Kingdoms",color:"blue",emblemUrl:"/icons/factions/nord.png",shortName:"nord"},w.Rusvet={name:"Rusviet Union",color:"red",emblemUrl:"/icons/factions/rusvet.png",shortName:"rusvet"},w.Albion={name:"Clan Albion",color:"green",emblemUrl:"/icons/factions/albion.png",shortName:"albion"},w.Togawa={name:"Togawa Shogunate",color:"purple",emblemUrl:"/icons/factions/togawa.png",shortName:"togawa"};var N=function e(t){var a,n,r,o,c,i,s,l,b=this;(Object(u.a)(this,e),this.popularity=0,this.money=0,this.stars=0,this.hex=0,this.resources=0,this.bonus=0,this.total=0,this.name="",this.faction=w.Polania,this.calculateTotal=function(){var e=Math.min(5,Math.floor(b.popularity/6.5)+3),t=Math.min(4,Math.floor(b.popularity/6.5)+2),a=Math.min(3,Math.floor(b.popularity/6.5+1)),n=Math.floor(b.money+b.stars*e+b.hex*t+Math.floor(b.resources/2)*a+b.bonus);return b.total=n,n},t)&&(this.popularity=null!==(a=t.popularity)&&void 0!==a?a:0,this.money=null!==(n=t.money)&&void 0!==n?n:0,this.stars=null!==(r=t.stars)&&void 0!==r?r:0,this.hex=null!==(o=t.hex)&&void 0!==o?o:0,this.resources=null!==(c=t.resources)&&void 0!==c?c:0,this.bonus=null!==(i=t.bonus)&&void 0!==i?i:0,this.name=null!==(s=t.name)&&void 0!==s?s:"",this.faction=null!==(l=t.faction)&&void 0!==l?l:w.Polania)},L=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(u.a)(this,a),(n=t.call(this,e)).faction=void 0,n.faction=w.getByName(e.faction);var r=n.props.players.filter((function(e){return e.faction.shortName===n.faction.shortName}));return n.state={player:r.length>0?r[0]:null},n}return Object(b.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this;if(e.players!==this.props.players){var a=this.props.players.filter((function(e){return e.faction.shortName===t.faction.shortName}));this.setState({player:a.length>0?a[0]:null})}}},{key:"render",value:function(){var e,t;return Object(n.jsx)("div",{className:"col s6 m4 l2"+(this.props.mra?" mra":""),children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"card-image",children:Object(n.jsx)("img",{src:null!==(e=window.location.origin+(null===(t=this.faction)||void 0===t?void 0:t.emblemUrl))&&void 0!==e?e:"",alt:"faction badge"})}),Object(n.jsx)("div",{className:"card-action",children:this.state.player?Object(n.jsx)("div",{children:this.state.player.name}):Object(n.jsx)(p.b,{to:"player/"+this.props.faction,children:Object(n.jsx)(s.b,{id:"selectButton"})})})]})})}}]),a}(r.Component),B=Object(l.b)((function(e,t){return{players:e.players.players}}),y.actions)(L),k=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e,t=this;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{htmlFor:"languageSelector",children:Object(n.jsx)(s.b,{id:"selectLanguageLabel"})}),Object(n.jsx)(g.Select,{onChange:function(e){t.props.setActiveLanguage(e.target.value),localStorage.setItem("language",e.target.value)},value:this.props.activeLanguage&&this.props.activeLanguage.code,id:"languageSelector",children:null===(e=this.props.languages)||void 0===e?void 0:e.map((function(e){return Object(n.jsx)("option",{value:e.code,children:e.name},e.code)}))})]})}}]),a}(r.Component),C=Object(s.d)(k),F=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsx)(C,{})}),Object(n.jsxs)("div",{className:"contentContainer",children:[Object(n.jsxs)("div",{className:"row factionRow",children:[Object(n.jsx)(B,{faction:"polania"}),Object(n.jsx)(B,{faction:"saxony"}),Object(n.jsx)(B,{faction:"crimea"}),Object(n.jsx)(B,{faction:"rusvet"}),Object(n.jsx)(B,{faction:"nord",mra:!0})]}),Object(n.jsxs)("div",{className:"row factionRow",children:[Object(n.jsx)(B,{faction:"albion",mra:!0}),Object(n.jsx)(B,{faction:"togawa",mra:!0})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)(g.Button,{onClick:function(){e.props.reset()},children:Object(n.jsx)(s.b,{id:"resetButton"})}),Object(n.jsx)(p.b,{to:"/summary",className:"btn",style:{marginLeft:"10px"},children:Object(n.jsx)(s.b,{id:"summaryButton"})})]})]})]})}}]),a}(r.Component),S=Object(l.b)(null,Object(O.a)({},y.actions))(F),P=a(28),H=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onKeyUp=function(e){if("Enter"===e.key){var t,a=e.currentTarget.form,n=Array.prototype.indexOf.call(a,e.currentTarget);null===(t=a.elements[n+1])||void 0===t||t.focus(),e.preventDefault()}},e}return Object(b.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"valueRow",children:[Object(n.jsx)("img",{src:this.props.icon,alt:this.props.name}),Object(n.jsxs)("div",{className:"input-field col s12 pointsInput",style:{flexGrow:1},children:[Object(n.jsx)("input",Object(O.a)(Object(O.a)({type:"text",name:this.props.name,id:this.props.name},"number"===typeof this.props.value&&{pattern:"[0-9]*",inputMode:"numeric"}),{},{value:this.props.value,onChange:this.props.changeHandler,onKeyUp:this.onKeyUp,style:{textAlign:"center"}})),Object(n.jsx)("span",{className:"helper-text",children:Object(n.jsx)(s.b,{id:this.props.label})})]})]})}}]),a}(o.a.Component),U=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(e){var n,r;return Object(u.a)(this,a),(r=t.call(this,e)).changeHandler=function(e){r.setState((function(t,a){var n="name"===e.target.name?e.target.value:+e.target.value,r=new N(Object(O.a)(Object(O.a)({},t.player),{},Object(P.a)({},e.target.name,n)));return r.calculateTotal(),{player:r}}))},r.addPlayer=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r.props.addPlayer(r.state.player),r.props.history.push(e?"/summary":"/")},r.state={player:null!==(n=e.player)&&void 0!==n?n:new N({faction:w.getByName(e.match.params[0])})},r}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"PlayerScoreCounter contentContainer",children:Object(n.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(n.jsx)("h1",{style:{textAlign:"center"},children:Object(n.jsx)(s.b,{id:this.state.player.faction.shortName+"Faction"})}),Object(n.jsx)(H,{name:"name",label:"nameLabel",icon:"/icons/name.png",value:this.state.player.name,changeHandler:this.changeHandler}),Object(n.jsx)(H,{name:"popularity",label:"popularityLabel",icon:"/icons/heart.png",value:this.state.player.popularity,changeHandler:this.changeHandler}),Object(n.jsx)(H,{name:"money",label:"moneyLabel",icon:"/icons/coin.png",value:this.state.player.money,changeHandler:this.changeHandler}),Object(n.jsx)(H,{name:"stars",label:"starsLabel",icon:"/icons/star.png",value:this.state.player.stars,changeHandler:this.changeHandler}),Object(n.jsx)(H,{name:"hex",label:"hexLabel",icon:"/icons/hex.png",value:this.state.player.hex,changeHandler:this.changeHandler}),Object(n.jsx)(H,{name:"resources",label:"resourcesLabel",icon:"/icons/resource.png",value:this.state.player.resources,changeHandler:this.changeHandler}),Object(n.jsx)(H,{name:"bonus",label:"bonusLabel",icon:"/icons/coin.png",value:this.state.player.bonus,changeHandler:this.changeHandler}),Object(n.jsxs)("div",{className:"resultRow",children:[Object(n.jsx)("label",{htmlFor:"total",children:Object(n.jsx)(s.b,{id:"totalLabel"})}),Object(n.jsx)("input",{type:"text",name:"total",id:"total",readOnly:!0,value:this.state.player.total,style:{textAlign:"center"}})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)(g.Button,{className:"brown lighten-3",large:!0,waves:"teal",onClick:function(){e.addPlayer(!0)},style:{marginRight:"2rem"},children:Object(n.jsx)(s.b,{id:"finishButton"})}),Object(n.jsx)(g.Button,{className:"brown lighten-3",large:!0,waves:"teal",onClick:function(){e.addPlayer()},children:Object(n.jsx)(s.b,{id:"nextPlayerButton"})})]})]})})}}]),a}(o.a.Component),T=Object(l.b)(null,y.actions)(U),E=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"contentContainer",children:[Object(n.jsxs)("table",{className:"summaryTable",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)(s.b,{id:"faction"})}),Object(n.jsx)("td",{children:Object(n.jsx)("img",{src:window.location.origin+"/icons/name.png",alt:"name"})}),Object(n.jsx)("td",{children:Object(n.jsx)("img",{src:window.location.origin+"/icons/heart.png",alt:"heart"})}),Object(n.jsx)("td",{children:Object(n.jsx)("img",{src:window.location.origin+"/icons/coin.png",alt:"coin"})}),Object(n.jsx)("td",{children:Object(n.jsx)("img",{src:window.location.origin+"/icons/star.png",alt:"star"})}),Object(n.jsx)("td",{children:Object(n.jsx)("img",{src:window.location.origin+"/icons/hex.png",alt:"hex"})}),Object(n.jsx)("td",{children:Object(n.jsx)("img",{src:window.location.origin+"/icons/resource.png",alt:"resource"})}),Object(n.jsx)("td",{children:Object(n.jsx)("img",{src:window.location.origin+"/icons/coin.png",alt:"bonus"})}),Object(n.jsx)("td",{children:Object(n.jsx)(s.b,{id:"totalLabel"})})]})}),Object(n.jsx)("tbody",{children:this.props.players.map((function(e){return e})).sort((function(e,t){return t.total-e.total})).map((function(e,t){return Object(n.jsxs)("tr",Object(O.a)(Object(O.a)({},0===t&&{className:"winner"}),{},{children:[Object(n.jsx)("td",{children:Object(n.jsxs)("div",{className:"summaryFactionCell",children:[Object(n.jsx)("img",{src:window.location.origin+e.faction.emblemUrl,alt:"faction badge"}),Object(n.jsx)(s.b,{id:e.faction.shortName+"Faction"})]})}),Object(n.jsx)("td",{children:e.name}),Object(n.jsx)("td",{children:e.popularity}),Object(n.jsx)("td",{children:e.money}),Object(n.jsx)("td",{children:e.stars}),Object(n.jsx)("td",{children:e.hex}),Object(n.jsx)("td",{children:e.resources}),Object(n.jsx)("td",{children:e.bonus}),Object(n.jsx)("td",{children:e.total})]}),e.name+e.faction.name)}))})]}),Object(n.jsx)(g.Button,{onClick:function(){e.props.history.push("/")},children:Object(n.jsx)(s.b,{id:"goBackButton"})})]})}}]),a}(r.Component),M=Object(l.b)((function(e){return{players:e.players.players}}))(E),R=a(47),A=a(48),K=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(e){var n,r;Object(u.a)(this,a),r=t.call(this,e);var o=null!==(n=localStorage.getItem("language"))&&void 0!==n?n:"en";return e.initialize({languages:[{name:"English",code:"en"},{name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",code:"ru"}],options:{renderToStaticMarkup:d.renderToStaticMarkup,defaultLanguage:o}}),e.addTranslationForLanguage(R,"en"),e.addTranslationForLanguage(A,"ru"),o&&e.setActiveLanguage(o),r}return Object(b.a)(a,[{key:"render",value:function(){return Object(n.jsx)(p.a,{children:Object(n.jsxs)(m.c,{children:[Object(n.jsx)(m.a,{path:"/",exact:!0,component:S}),Object(n.jsx)(m.a,{path:"/summary",exact:!0,component:M}),Object(n.jsx)(m.a,{path:"/player/*",component:T})]})})}}]),a}(o.a.Component),I=Object(s.d)(K),J=Object(x.a)({reducer:{players:v,localize:s.c}});a(109),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(l.a,{store:J,children:Object(n.jsx)(s.a,{store:J,children:Object(n.jsx)(I,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},47:function(e){e.exports=JSON.parse('{"resetButton":"Reset","summaryButton":"Summary","polaniaFaction":"Republic of Polania","saxonyFaction":"Saxony Empire","crimeaFaction":"Crimean Khanate","rusvetFaction":"Rusviet Union","nordFaction":"Nordic Kingdoms","albionFaction":"Clan Albion","togawaFaction":"Togawa Shogunate","nameLabel":"Enter your name","popularityLabel":"Enter your popularity","moneyLabel":"Enter your money","starsLabel":"Enter your stars","hexLabel":"Enter your hex","resourcesLabel":"Enter your resources","bonusLabel":"Enter your bonus","totalLabel":"Total","nextPlayerButton":"Next Player","finishButton":"Finish","faction":"Faction","selectButton":"Select","goBackButton":"Go Back","selectLanguageLabel":"Select Language"}')},48:function(e){e.exports=JSON.parse('{"resetButton":"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","summaryButton":"\u0418\u0442\u043e\u0433\u0438","polaniaFaction":"\u041f\u043e\u043b\u0430\u043d\u0438\u044f","saxonyFaction":"\u0421\u0430\u043a\u0441\u043e\u043d\u0438\u044f","crimeaFaction":"\u041a\u0440\u044b\u043c","rusvetFaction":"\u0420\u0443\u0441\u0432\u0435\u0442","nordFaction":"\u0421\u0435\u0432\u0435\u0440","albionFaction":"\u0410\u043b\u044c\u0431\u0438\u043e\u043d","togawaFaction":"\u0422\u043e\u0433\u0430\u0432\u0430","nameLabel":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438\u0433\u0440\u043e\u043a\u0430","popularityLabel":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u044c","moneyLabel":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u043e\u043d\u0435\u0442","starsLabel":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0432\u0435\u0437\u0434","hexLabel":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u0435\u0440\u0440\u0438\u0442\u043e\u0440\u0438\u0439","resourcesLabel":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432","bonusLabel":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0431\u043e\u043d\u0443\u0441","totalLabel":"\u0412\u0441\u0435\u0433\u043e","nextPlayerButton":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0438\u0433\u0440\u043e\u043a","finishButton":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c","faction":"\u041d\u0430\u0446\u0438\u044f","selectButton":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c","goBackButton":"\u041d\u0430\u0437\u0430\u0434","selectLanguageLabel":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044f\u0437\u044b\u043a"}')},66:function(e,t,a){}},[[110,1,2]]]);
//# sourceMappingURL=main.754ebf86.chunk.js.map